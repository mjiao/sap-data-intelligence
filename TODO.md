- [ ] - do not terminate observer when SDI or slcbridge namespaces are missing
- [ ] - fix uninstallation

    - job datahub.checkpointstore-cleanup keeps restarting

        Tue, 29 Sep 2020 16:32:17 +0000 Service account datahub-postaction-sa in sdi namespace can already pull images from sdi-observer namespace.
        pod "datahub.checkpointstore-cleanup-bfd3c5-9f67d8-df2sd" deleted
        Error from server (NotFound): jobs.batch "datahub.checkpointstore-cleanup-bfd3c5-9f67d8" not found

- [ ] - delete obsolete autogenerated secrets with a command like:

        # oc get secret -o json | jq -r  '.items |
            sort_by(.metadata.creationTimestamp) |
            [.[] | select((.metadata.annotations["kubernetes.io/service-account.name"] // "") |
                            test("^(sdi-observer|container-image-registry)$"))
            ] | group_by(.metadata.annotations["kubernetes.io/service-account.name"]) |
            [.[] | .[0:((. | length)-2)]] | flatten(1)[] |
                "\(.metadata.name): \(.metadata.creationTimestamp)"' | awk -F : '{print "secret/"$1}' | xargs -r oc delete

- [ ] - prevent from the following build error:

        2m48s       Warning   BuildConfigInstantiateFailed   buildconfig/sdi-observer               error instantiating Build from BuildConfig sdi-observer/sdi-observer (0): Error resolving ImageStreamTag ubi8:latest in namespace sdi-observer: unable to find latest tagged image

    verify manual solution:

        oc tag --reference-policy=local --scheduled --source=docker registry.redhat.io/ubi8/ubi:latest ubi8:latest

- [ ] - do not re-deploy registry each time the observer is restarted
- [ ] - add job or webhook for observer's automated updates
- [ ] - break resource handling in observer's loop into separate modules
- [ ] - add job for updating registry's ca bundle in image config
    - make observer observe router-ca secret in openshift-ingress-operator namespace
- [ ] - observer to grant necessary SCCs
- [ ] - observer to granc admin role in sdi namespace to vora crd instance
- [ ] - change RWO volumes to RWX where it makes sense
